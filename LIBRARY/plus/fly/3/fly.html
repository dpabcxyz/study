<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="http://www.anydo.wang/resource/js/jquery-3.1.1.js"></script>
    <script src="jquery-fly.js"></script>
    <link rel="stylesheet" href="fly.css">
</head>
<body>
<div class="box">
    <img src="test4.jpg" width="180" height="180">
    <h4>￥<span>3499.00</span></h4>
    <p>LG 49LF5400-CA 49寸IPS硬屏富贵招财铜钱设计</p>
    <a href="#" class="button orange addcar">加入购物车</a>
</div>
<div class="box">
    <img src="test3.jpg" width="180" height="180">
    <h4>￥<span>3799.00</span></h4>
    <p>Hisense/海信 LED50T1A 海信电视官方旗舰店</p>
    <a href="#" class="button orange addcar">加入购物车</a>
</div>
<div class="box">
    <img src="test2.jpg" width="180" height="180">
    <h4>￥<span>￥3999.00</span></h4>
    <p>Skyworth/创维 50E8EUS 8核4Kj极清酷开系统智能液晶电视</p>
    <a href="#" class="button orange addcar">加入购物车</a>
</div>
<div class="box">
    <img src="test1.jpg" width="180" height="180">
    <h4>￥<span>6969.00</span></h4>
    <p>乐视TV Letv X60S 4核1080P高清3D安卓智能超级电视</p>
    <a href="#" class="button orange addcar">加入购物车</a>
</div>

<div class="m-sidebar">
    <div class="cart">
        <i id="end"></i>
        <span>购物车</span>
    </div>
</div>

<div id="msg">已成功加入购物车！</div>
    <script>
    $(function() {
        var offset = $("#end").offset();
        $(".addcar").click(function(event){
            var addcar = $(this);
            var img = addcar.parent().find('img').attr('src');
            var flyer = $('<img class="u-flyer" src="'+img+'">');
            flyer.fly({
                start: {
                    left: event.pageX, //开始位置（必填）#fly元素会被设置成position: fixed
                    top: event.pageY //开始位置（必填）
                },
                end: {
                    left: offset.left+10, //结束位置（必填）
                    top: offset.top+10, //结束位置（必填）
                    width: 0, //结束时宽度
                    height: 0 //结束时高度
                },
                onEnd: function(){ //结束回调
                    $("#msg").show().animate({width: '250px'}, 200).fadeOut(1000); //提示信息
                    addcar.css("cursor","default").removeClass('orange').unbind('click');
                    this.destory(); //移除dom
                }
            });
        });
    });
</script>
</body>
</html>