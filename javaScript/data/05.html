<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=script, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
	<script type="text/javascript">
	    function fun() {
	        var menuArr = [
	            [1, "Area1", -1],
	            [2, "Area2", -1],
	            [3, "Area1-1", 1],
	            [4, "Area1-2", 1],
	            [5, "Area2-1", 2],
	            [6, "Area2-2", 2],
	            [7, "Area1-2-3", 4],
	            [8, "Area2-2-1", 6],
	        ];

		//   var subArrToSubObj

        // 转换成 对象数组
        var subArrToSubObj = menuArr.map(function (arr, i) {
            return {key: arr[0], obj: {name: arr[1]}, parentKey: arr[2]};
        })
        console.log(subArrToSubObj);

        var menuObject = {};
        var tempObjArr = subArrToSubObj;
        var len = tempObjArr.length;

        for (var i = len - 2; i >= 0; i--) {
            for (var j = len - 1; j >= i; j--) {
                if (tempObjArr[i].key == tempObjArr[j].parentKey) {
                    if (tempObjArr[i].obj["subMenu"]) {
                        tempObjArr[i].obj["subMenu"][tempObjArr[j].key] = tempObjArr[j].obj;
                    } else {
                        tempObjArr[i].obj["subMenu"] = {};
                        tempObjArr[i].obj["subMenu"][tempObjArr[j].key] = tempObjArr[j].obj;
                    }
                }
            }
        }

          // 设置根目录
        for(var i in tempObjArr){
            if(tempObjArr[i].parentKey==-1){
                menuObject[tempObjArr[i].key]=tempObjArr[i].obj;
            }
        }
        console.log(menuObject);

//        console.log(tempObjArr);

    }
    fun();
</script>
</body>
</html>