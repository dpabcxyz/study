<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>动画队列应用</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.0/jquery.min.js"></script>
    <style>
        .div{
            width: 100px;
            height: 100px;
            background-color: #01AAED;
        }
    </style>
</head>
<body>
<button class="btn">start</button>
<div class="div"></div>
</body>
<script>
    $(function () {
        $('.btn').click(function () {
            $('.div')
                .show(1000)
                .animate({
                    'margin-left':'+=200px'
            },2000)
                .animate({
                    'margin-top':'+=200px'
                },2000)
                .hide(2000)
                .show(1000)
                .queue(function (next) {
                    $(this).css('background-color','green');
                    next();
                })
                .animate({
                    'margin-top':'+=200px'
                },4000)
                .queue(function (next) {
                    $(this).css('background-color','red');
                    next();
                })
                .animate({
                    'margin-left':'+=200px'
                },4000)
        })
    })
    //默认动画函数会被加入fx队列，该队列会自动执行第一个动画函数，利用queue()方法，将非动画函数加入动画队列，并按顺序执行
</script>
</html>